## .travis.yml
dist: precise


language: ruby

rvm:
 - 2.6
 
script : 
  - gem install dpl
 


language: php


php:
  - 7.2

addons:
  mariadb: 10.4

cache:
  directories:
    - node_modules
    - vendor

before_script:
  - cp .env.travis .env
  - sudo mysql -e 'CREATE DATABASE testing;'
  - composer self-update
  - composer install --no-interaction
  - php artisan migrate --no-interaction -vvv

script:
  - vendor/bin/phpunit
 
deploy:
  provider: heroku
  api_key:
    secure: 7364a168-74cc-4dfe-b3ee-ab1c9729555c
  app: laravel-heroku-travis
  on:
    repo: Moandh81/laravel_travis_heroku
  edge: true
  skip_cleanup: true

